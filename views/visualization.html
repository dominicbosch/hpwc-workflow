{% extends 'layout.html' %}

{% block title %}Visualization{% endblock %}

{% block head %}
<script type="text/javascript" src="../js/visualization.js"></script>


<!-- CSS -->
<link rel="stylesheet" type="text/css" href="../css/visualization.css" />

{% endblock %}

{% block ifprojectextra %}
//retrieve experiment output list if current project is set
$.get('/services/experiment/get', function( data ) {
	var output_string = '<option value="">Choose An Experiment Output</option>';
	if (data !== "") {
		data.forEach(function(outName) {
			var year = outName.substring(0,4);
			var month = outName.substring(4,6);
			var day = outName.substring(6,8);
			var hour = outName.substring(9,11);
			var minute = outName.substring(11,13);
			var output = day + '/' + month + '/' + year + ' at ' + hour + ':' + minute;
			output_string += '<option value="' + outName + '">' + output + '</option>';
		});
	}
	$('#graphs').html(output_string);
});
{% endblock %}

{% block content_left %}
<h1>Graphs Selection</h1>
</br>
<h4>Select the graph you want to visualize, out of your run benchmarks</h4>
<br/>
<div id="output_preview">
	<div>
		<label for="graphs">Current graph</label>
		<select id="graphs" name="graph_name">
			<option value="">Choose An Experiment Output</option>
		</select>
	</div>
	<table id="exp_details">
		<tr>
			<th></th>
			<th>
				Fixed
			</th>
			<th>
				List
			</th>
		</tr>
		<tr>
			<th>
				Parameters
			</th>
			<td>
				<input class="fixed" type="checkbox" id="fix_par" checked disabled>
			</td>
			<td name="parameters">
				--
			</td>
		</tr>
		<tr>
			<th>
				Methods
			</th>
			<td>
				<input class="fixed" type="checkbox" id="fix_met" checked disabled>
			</td>
			<td name="methods">
				--
			</td>
		</tr>
		<tr>
			<th>
				Threads
			</th>
			<td>
				<input class="fixed" type="checkbox" id="fix_thr" checked disabled>
			</td>
			<td name="nthreads">
				--
			</td>
		</tr>
		<tr>
			<th>
				Number of Executions
			</th>
			<td>
				--
			</td>
			<td name="nexecs">
				--
			</td>
		</tr>
	</table>
</div>
{% endblock %}

{% block content_right %}
<div id="project_preview">
	<div id="project_title">
		<label for="projects">Current project settings</label>
		<select id="projects" name="project_name">
			<option value="">Choose A Project</option>
		</select>
	</div>
	<table id="project_details">
		<tr>
			<th>
				Parameters Name
			</th>
			<td name="par_list">
				{% if connection.project %}
					{{ connection.project.parameters.list }}
				{% else %}
					--
				{% endif %}
			</td>
		</tr>
		<tr>
			<th>
				Comment
			</th>
			<td name="comment">
				{% if connection.project %}
					{{ connection.project.comment }}
				{% else %}
					--
				{% endif %}
			</td>
		</tr>
	</table>
</div>
<!--
<div id="cmd_response">
	<h3>Command Response</h3>
	<textarea id="resp_textarea" readonly></textarea>
</div>
-->
{% endblock %}